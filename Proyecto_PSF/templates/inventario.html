{% extends "base.html" %}
{% block content %}

<h2>Gestión Avanzada de Inventario</h2>

<h5>Categorías:</h5>
{% for c in categorias %}
<span class="badge bg-secondary">{{ c }}</span>
{% endfor %}

<hr>

<h4>Agregar Producto</h4>
<form method="POST" action="/agregar" class="row g-2">
<input class="form-control col" name="nombre" placeholder="Nombre" required>
<input class="form-control col" type="number" name="cantidad" placeholder="Cantidad" required>
<input class="form-control col" type="number" step="0.01" name="precio" placeholder="Precio" required>
<input class="form-control col" name="categoria" placeholder="Categoría" required>
<button class="btn btn-success col">Agregar</button>
</form>

<hr>

<h4>Buscar</h4>
<form method="POST" action="/buscar">
<input class="form-control mb-3" name="nombre" placeholder="Buscar producto">
</form>

<table class="table table-bordered">
<tr>
<th>ID</th><th>Nombre</th><th>Cantidad</th><th>Precio</th><th>Categoría</th><th>Acciones</th>
</tr>

{% for p in productos %}
<tr>
<td>{{ p.get_id() }}</td>
<td>{{ p.get_nombre() }}</td>
<td>{{ p.get_cantidad() }}</td>
<td>${{ p.get_precio() }}</td>
<td>{{ p.get_categoria() }}</td>
<td>
<a href="/editar/{{ p.get_id() }}" class="btn btn-warning btn-sm">Editar</a>
<a href="/eliminar/{{ p.get_id() }}" class="btn btn-danger btn-sm">Eliminar</a>
</td>
</tr>
{% endfor %}
</table>

{% endblock %}